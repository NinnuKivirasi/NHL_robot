<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>NHL Stats Dashboard</title>

</head>
<body>
    <div class="container">
        <h2>NHL Stats Dashboard</h2>
        
        <div class="section">
            <h3>Game Results from Last Round</h3>
            <table id="gameResults">
                <tr><th>Matchup</th><th>Status</th></tr>
            </table>
        </div>
        
        <div class="section">
            <h3>Finnish Players' Stats from Last Round</h3>
            <table id="playerStats">
                <tr><th>Name</th><th>Goals</th><th>Assists</th><th>Points</th><th>Opponent</th><th>Date</th></tr>
            </table>
        </div>
        
        <div class="section">
            <h3>Current NHL Standings</h3>
            <table id="standings">
                <tr><th>Team</th><th>Wins</th><th>Losses</th><th>Points</th></tr>
            </table>
        </div>
    </div>

    <script>
        async function loadData() {
    try {
        const response = await fetch('nhl_data.json');
        if (!response.ok) {
            throw new Error('Failed to load JSON');
        }
        const data = await response.json();
        console.log(data); // Check if data is loading in the console

        // Display game results
        const gameResults = document.getElementById('game-results');
        gameResults.innerHTML = data.games.map(game => 
            `<p>${game.matchup} (${game.status})</p>`).join('');

        // Display Finnish player stats (only relevant ones)
        const playerStats = document.getElementById('player-stats');
        playerStats.innerHTML = data.players
            .filter(player => 
                (player.position !== 'G' && (player.goals > 0 || player.assists > 0 || player.points > 0)) || 
                (player.position === 'G' && player.saves !== null && player.shotsAgainst !== null)
            )
            .map(player => 
                player.position === 'G' 
                    ? `<p>${player.name} (G): ${player.saves} SV, ${player.shotsAgainst} SA vs ${player.opponent}</p>` 
                    : `<p>${player.name}: ${player.goals}G, ${player.assists}A, ${player.points}P vs ${player.opponent}</p>`
            )
            .join('');

        // Display standings (grouped by conferences)
        const easternStandings = document.getElementById('eastern-standings');
        const westernStandings = document.getElementById('western-standings');

        const easternTeams = data.standings.filter(team => team.conference === 'Eastern');
        const westernTeams = data.standings.filter(team => team.conference === 'Western');

        easternStandings.innerHTML = easternTeams.map(team =>
            `<p>${team.team}: ${team.wins}W - ${team.losses}L, ${team.points}PTS</p>`).join('');

        westernStandings.innerHTML = westernTeams.map(team =>
            `<p>${team.team}: ${team.wins}W - ${team.losses}L, ${team.points}PTS</p>`).join('');

    } catch (error) {
        console.error("Error loading data:", error);
    }
}

loadData();
    </script>
</body>
</html>